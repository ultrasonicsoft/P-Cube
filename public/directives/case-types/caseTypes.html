<div ng-controller="CaseTypesCtrl as ctrl">
    <form editable-form name="tableform" onaftersave="ctrl.saveTable()" oncancel="ctrl.cancel()">
        <!-- table -->
        <table class="table table-bordered table-hover table-condensed">
            <tr style="font-weight: bold">
                <td style="width: 40%">Case Type</td>
                <td style="width: 30%"><span ng-show="tableform.$visible">Action</span></td>
            </tr>
            <tr ng-repeat="caseType in ctrl.caseTypes | filter:ctrl.filterCaseType">
                <td>
                    <!-- editable username (text with validation) -->
                    <span editable-text="caseType.caseType" e-form="tableform">
                        {{ caseType.caseType || 'empty' }}
                    </span>
                </td>
                <td>
                    <button type="button"
                            ng-show="tableform.$visible"
                            ng-click="ctrl.deleteCaseType(caseType.id)"
                            class="btn btn-danger pull-right">
                        Delete Case Type
                    </button>
                </td>
            </tr>
        </table>

        <!-- buttons -->
        <div class="btn-edit">
            <button type="button" class="btn btn-default" ng-show="!tableform.$visible" ng-click="tableform.$show()">
                Edit Case Type
            </button>
        </div>
        <div class="btn-form" ng-show="tableform.$visible">
            <button type="button" ng-disabled="tableform.$waiting" ng-click="ctrl.addCaseType()" class="btn btn-default pull-right">New Case Type</button>
            <button type="submit" ng-disabled="tableform.$waiting" class="btn btn-primary">Save Changes</button>
            <button type="button" ng-disabled="tableform.$waiting" ng-click="tableform.$cancel()" class="btn btn-default">Revert Changes</button>
        </div>
    </form>
</div>